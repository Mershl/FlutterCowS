!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.app=t()}}(function(){return function t(e,i,s){function a(n,r){if(!i[n]){if(!e[n]){var c="function"==typeof require&&require;if(!r&&c)return c(n,!0);if(o)return o(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[n]={exports:{}};e[n][0].call(d.exports,function(t){var i=e[n][1][t];return a(i||t)},d,d.exports,t,e,i,s)}return i[n].exports}for(var o="function"==typeof require&&require,n=0;n<s.length;n++)a(s[n]);return a}({1:[function(t,e,i){"use strict";var s=t("./states");i.init=function(){var t=new Phaser.Game(720,720,Phaser.CANVAS);return Object.keys(s).forEach(function(e){t.state.add(e,s[e])}),t.state.start("Boot"),t}},{"./states":13}],2:[function(t,e,i){"use strict";i.boot=[{key:"splash-screen",type:"image"},{key:"progress-bar",type:"image"}],i.game=[{key:"phaser",type:"image"},{key:"cow",type:"spritesheet",frameWidth:128,frameHeight:96},{key:"fg",type:"image"},{key:"bg",type:"image"},{key:"log",url:"log_full.png",type:"image"},{key:"spider",url:"spider_full.png",type:"image"},{key:"splash",type:"image"}]},{}],3:[function(t,e,i){"use strict";function s(t,e,i,s,o){Phaser.TileSprite.call(this,t,e,i,s,o,"bg"),this.autoScroll(-a,0)}e.exports=s;var a=300;s.prototype=Object.create(Phaser.TileSprite.prototype),s.prototype.constructor=s,s.prototype.disable=function(){this.autoScroll(0,0)}},{}],4:[function(t,e,i){"use strict";function s(t){var e,i,s,a=t.width/2,o=t.height/3;t.slickUI.add(s=new SlickUI.Element.Panel(t.width/2-a/2,t.height/5*2,a,o)),s.add(new SlickUI.Element.Text(10,0,"Game Over")).centerHorizontally().text.alpha=.5,s.add(new SlickUI.Element.Text(10,40,"Time Alive:")).centerHorizontally(),s.add(new SlickUI.Element.Text(10,60,t.lastScore.toFixed(2)+"s")).centerHorizontally(),e=new SlickUI.Element.Button(0,s.height-80,s.width/2-4,80),s.add(e),e.add(new SlickUI.Element.Text(0,0,"Restart")).center(),e.events.onInputUp.add(function(){t.state.start("Game")}),i=new SlickUI.Element.Button(s.width/2+4,s.height-80,s.width/2-4,80),s.add(i),i.add(new SlickUI.Element.Text(0,0,"Close")).center(),i.events.onInputUp.add(function(){t.state.start("MainMenu")});var n=s.x;t.add.tween(s).to({x:n},500,Phaser.Easing.Exponential.Out,!0),t.slickUI.container.displayGroup.bringToTop(s.container.displayGroup)}e.exports=s},{}],5:[function(t,e,i){"use strict";function s(t,e,i,s,n){Phaser.TileSprite.call(this,t,e,i,s,n,"fg"),this.autoScroll(-o,0),this.game.physics.arcade.enableBody(this),this.body.setSize(s,a,0,n-a),this.body.allowGravity=!1,this.body.immovable=!0}e.exports=s;var a=54,o=400;s.prototype=Object.create(Phaser.TileSprite.prototype),s.prototype.constructor=s,s.prototype.disable=function(){this.autoScroll(0,0)}},{}],6:[function(t,e,i){"use strict";function s(t,e,i){Phaser.Sprite.call(this,t,e,i,"cow"),this.animations.add("flying",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],20,!0),this.animations.add("standing",[16,17,18,19,20,21,22,23],20,!0),this.animations.add("falling",[24,25,26,27,28,29,30,31],20,!0),this.animations.add("dead",[16],20,!0),this.game.physics.arcade.enableBody(this),this.body.bounce.set(.5),this.fly(),this.isDead=!1,this.isFalling=!1,this.timeAlive=0,this.spaceKey=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.SPACEBAR])}e.exports=s;s.prototype=Object.create(Phaser.Sprite.prototype),s.prototype.constructor=s,s.prototype.update=function(){this.isDead||((this.game.input.activePointer.isDown||this.spaceKey.isDown)&&this.flap(),this.timeAlive+=this.game.time.physicsElapsed);var t=this.game.math.clamp(this.body.velocity.y,-350,350),e=t/350*10;this.rotation=this.game.math.rotateToAngle(this.rotation,this.game.math.degToRad(e),.25)},s.prototype.fly=function(){this.play("flying")},s.prototype.flap=function(){this.body.velocity.y=-350},s.prototype.hitGround=function(){this.isDead||(this.isDead=!0,this.play("falling")),this.isFalling=!1},s.prototype.hitObstacle=function(){this.isDead||(this.isDead=!0,this.isFalling=!0,this.play("falling"))},s.prototype.getSpeed=function(){return 2},s.prototype.getTimeAlive=function(){return this.timeAlive}},{}],7:[function(t,e,i){"use strict";function s(t,e){this.obstaclesGroup=e,this.spawnObstacle(1),this.timer=t.time.create(!1),this.timer.loop(1e3*a,this.spawnObstacle,this,1),this.timer.start()}e.exports=s;var a=4;s.prototype.update=function(t){},s.prototype.spawnObstacle=function(t){this.obstaclesGroup.createObstacle(250)},s.prototype.disable=function(){this.timer.stop()}},{}],8:[function(t,e,i){"use strict";function s(t){Phaser.Group.call(this,t)}e.exports=s;s.prototype=Object.create(Phaser.Group.prototype),s.prototype.constructor=s,s.prototype.update=function(){},s.prototype.createObstacle=function(t){var e=this.game.world.height-t/2-70,i=this.game.rnd.integerInRange(t/2,e),s=this.game.world.width+100,a=this.game.rnd.frac()<.2,o=a?"spider":"log",n=this.game.make.sprite(s,i-t/2,o);n.anchor.y=a?1:0,a||(n.scale.y=-1);var r=this.game.make.sprite(s,i+t/2,"log");r.anchor.y=0,this.game.physics.arcade.enableBody(n),n.body.allowGravity=!1,n.body.immovable=!0,n.body.damping=0,n.body.mass=.1,this.game.physics.arcade.enableBody(r),r.body.allowGravity=!1,r.body.immovable=!0,r.body.damping=0,r.body.mass=.1,this.add(n),this.add(r)},s.prototype.move=function(t){var e=this.game;this.forEach(function(i){i.body.velocity.x=200*-t,i.body.x<-300?i.destroy():e.debug.body(i)})},s.prototype.disable=function(){this.forEach(function(t){t.body.velocity.set(0)})}},{}],9:[function(t,e,i){"use strict";var s=t("../assets");i.preload=function(t){t.load.path="assets/",t.input.maxPointers=2,t.scale.pageAlignHorizontally=!0,t.scale.scaleMode=Phaser.ScaleManager.NO_SCALE,t.stage.disableVisibilityChange=!0,t.tweens.frameBased=!1,t.load.pack("boot",null,s)},i.create=function(t){t.state.start("Preloader")}},{"../assets":2}],10:[function(t,e,i){"use strict";var s=t("../objects/KnownFlyingObject"),a=t("../objects/Ground"),o=t("../objects/Background"),n=t("../objects/Obstacles"),r=t("../objects/ObstacleSpawner"),c=t("../objects/GameOverOverlay");i.preload=function(t){t.slickUI.load("ui/kenney/kenney.json")},i.create=function(t){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.arcade.gravity.y=1e3,this.kfo=new s(t,20,250),this.ground=new a(t,0,0,720,720),this.bg=new o(t,0,0,720,720),this.game.add.existing(this.bg),this.game.add.existing(this.ground),this.game.add.existing(this.kfo),this.obstacles=new n(t),this.obstacleSpawner=new r(t,this.obstacles),this.isGameOver=!1},i.update=function(){this.isGameOver||(this.game.physics.arcade.collide(this.kfo,this.ground,function(t){t.hitGround()}),this.game.physics.arcade.collide(this.kfo,this.obstacles,function(t){t.hitObstacle()}),this.obstacles.move(this.kfo.getSpeed()),this.kfo.x<-250&&this.gameOver())},i.gameOver=function(){this.isGameOver||(this.obstacleSpawner.disable(),this.isGameOver=!0,this.game.lastScore=this.kfo.getTimeAlive(),this.gameOverOverlay=new c(this.game))}},{"../objects/Background":3,"../objects/GameOverOverlay":4,"../objects/Ground":5,"../objects/KnownFlyingObject":6,"../objects/ObstacleSpawner":7,"../objects/Obstacles":8}],11:[function(t,e,i){"use strict";i.preload=function(t){t.slickUI.load("ui/kenney/kenney.json")},i.create=function(t){var e=(t.add.image(0,0,"splash"),new SlickUI.Element.Button(t.width/2-70,t.height/4*3,140,80));t.slickUI.add(e),e.add(new SlickUI.Element.Text(0,0,"Play")).center(),e.events.onInputUp.add(function(){t.state.start("Game")})}},{}],12:[function(t,e,i){"use strict";function s(t){t.load.setPreloadSprite(t.add.image(82,282,"progress-bar"))}var a=t("../assets");i.preload=function(t){s(t),t.load.pack("game",null,a),t.slickUI=t.plugins.add(Phaser.Plugin.SlickUI),t.slickUI.load("ui/kenney/kenney.json")},i.create=function(t){t.state.start("MainMenu")}},{"../assets":2}],13:[function(t,e,i){"use strict";i.Boot=t("./Boot"),i.Preloader=t("./Preloader"),i.Game=t("./Game"),i.MainMenu=t("./MainMenu")},{"./Boot":9,"./Game":10,"./MainMenu":11,"./Preloader":12}]},{},[1])(1)});
//# sourceMappingURL=game.min.js.map
